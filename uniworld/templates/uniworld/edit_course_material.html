{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block content %}
<div class="container py-5">
    <h2>Edit Course Material</h2>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {% bootstrap_field form.title %}
        {% bootstrap_field form.sequence %}
        <div class="mb-3">
            <label class="form-label">Material Type</label>
            <input type="text" class="form-control" value="{{ form.instance.get_type_display }}" readonly>
        </div>
        {% if lecture_form %}
            <h3>Lecture Details</h3>
            {% bootstrap_form lecture_form %}
        {% elif assignment_form %}
            <h3>Assignment Details</h3>
            {% bootstrap_form assignment_form %}
        {% endif %}
        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>
</div>
{% endblock %}

{% block extra_js %}
<script>
    $(document).ready(function() {
        // Ensure the date input is set to 'date' type
        $('input[name="due_date"]').attr('type', 'date');
    });
</script>
{% endblock %}
